---
title: 管理文件和文件夹
description: 了解如何管理文件和文件夹
source-git-commit: cc0fbca257d82cc82db5b5da8d263309fd71de55
workflow-type: tm+mt
source-wordcount: '2502'
ht-degree: 0%

---


# 管理文件和文件夹 {#id2116G0L08XA}

本节介绍AEM指南如何处理基本的文件操作，如复制、粘贴、拖放和删除文件。 可能出现以下情况：

## 复制并粘贴文件

**如果文件具有人类可读的文件名**

- *如果目标文件夹中不存在同名文件*:将创建文件的新副本，并为其分配UUID。 在此，文件名与原始文件名相同。
- *如果目标文件夹中已存在同名文件*:将创建文件的新副本，其后缀为\（如filename0.extension\）。 新创建的文件也会分配一个UUID。


**如果文件名基于UUID模式，则**

- *如果目标文件夹中不存在同名文件*:将创建文件的新副本，并在新位置为其分配新的UUID。 在此，文件名与UUID相同。
- *如果目标文件夹中已存在同名文件*:将创建文件的新副本，并为其分配新的UUID。 文件名与UUID相同。


## 复制并粘贴文件夹

**在同一位置复制并粘贴文件夹**

- *文件夹包含的文件名可读*:将创建文件夹的新副本，后缀为\（如foldername0\）。 文件夹中的文件也会分配新的UUID。 但是，文件名没有更改。

- *该文件夹包含的文件名基于UUID模式*:将创建文件夹的新副本，后缀为\（如foldername0\）。 新的UUID也会分配给新文件夹中的所有文件。 文件名也被更改；文件名与新的UUID相同。


**在不同位置复制并粘贴文件夹**

- *文件夹包含的文件名可读*:将创建文件夹的新副本，并且新UUID也会分配给新位置文件夹中的所有文件。 在此，文件夹或文件名中没有任何更改。

- *该文件夹包含的文件名基于UUID模式*:将使用与原始文件夹相同的名称创建文件夹的新副本。 新的UUID也会分配给新文件夹中的所有文件。 文件名也被更改；文件名与新的UUID相同。


## 拖放文件

**拖放（包含人类可读的文件名）**

- *在同一位置拖放*:您可以选择 **覆盖现有文件**, **保留两个文件**，以及用于创建现有工作副本版本的选项。

   ![](images/uuid-human-readable-drag-drop-same-location.PNG){width="650" align="center"}

   如果您选择 **覆盖现有文件** 选项，则正在上传的文件将替换原始位置现有文件的当前工作版本。 不会创建或更改UUID。

   如果您选择 **保留两个文件** 选项，则会创建文件的新副本，并且后缀为\（如filename0.extension\）。 新复制的文件也会分配新的UUID。

   使用覆盖现有文件选项，如果选择从现有工作副本创建版本的选项，则也会从文档的工作副本创建新版本。

   >[!NOTE]
   >
   > **为已上传的文件创建新版本** 功能必须由管理员启用。 如果启用此功能，则会为已上传的文件创建新版本。 如果取消选择选项，则不会创建已上传文件的某个版本。 有关更多详细信息，请参阅 *为已上传的文件创建新版本* 安装和配置Adobe Experience Manager指南as a Cloud Service中的部分。

   如果某个文件已被其他用户签出以供编辑，并且您尝试上传和覆盖现有文件，则该文件会失败并显示错误。

   >[!NOTE]
   >
   >的 **上载时覆盖签出的文件** 功能必须由管理员禁用。 如果启用此功能，则可以覆盖签出的文件。 如果未启用该功能，则阻止覆盖签出的文件。 有关更多详细信息，请参阅 *上载时覆盖签出的文件* 安装和配置Adobe Experience Manager指南as a Cloud Service中的部分。


- *将文件拖放到不同位置*:将创建文件的新副本，并在新位置为其分配新的UUID。 在此，文件名与原始文件名相同。


**根据UUID模式通过文件名进行拖放**

*将文件拖放到同一位置*:您可以选择 **覆盖现有文件** 以及用于创建现有工作副本版本的选项。

![](images/uuid-drag-drop-same-location.PNG){width="650" align="center"}

当文件被覆盖时，文件名或其UUID不会发生任何更改。

如果您选择 **为现有工作副本创建版本** ，则会从文档的工作副本中创建新版本；将上传新文件，并创建新版本的文件，并将其作为文档的工作副本。

**为已上传的文件创建新版本** 功能必须由管理员启用。 如果启用此功能，则会为已上传的文件创建新版本。 如果取消选择选项，则不会创建已上传文件的某个版本。 有关更多详细信息，请参阅 *为已上传的文件创建新版本* 安装和配置Adobe Experience Manager指南as a Cloud Service中的部分。


*将文件拖放到不同位置*:您可以选择 **覆盖现有文件**, **将文件移动到新位置**，以及用于创建现有工作副本版本的选项。

![](images/uuid-drag-drop-different-location.PNG){width="650" align="center"}

如果您选择 **覆盖现有文件** 选项，则正在上传的文件将替换原始位置的现有文件。 不会创建或更改UUID。

如果您选择 **将文件移动到新位置** 选项，则现有文件会被移动到当前位置，然后被上传的文件覆盖。 将文件移动到新位置不会破坏从文件或对文件的任何现有引用。

替换或移动文件时，如果选择从现有副本创建版本的选项，则会从文档的工作副本创建新版本；新文件将在现有位置被替换或移动到新位置。


## 批量移动文件

AEM指南附带批量移动工具，可帮助管理员将具有大量文件的文件夹从一个位置移动到另一个位置。 此工具可以轻松地将一个或多个文件夹中的文件移动到AEM存储库的其他文件夹中。 此工具的主要功能之一是，它不仅移动了大量文件，而且还保留了对所移动文件的引用和对所移动文件的引用。 您可以调整批量移动的文件数，而不会妨碍创作和发布任务。

>[!NOTE]
>
> 批量移动工具仅在文件夹级别工作。 如果要移动单个主题或映射文件，请使用AEM Assets UI中的常规移动工具。

以下是批量移动工具提供的一些功能：

- 您可以调整要在每个批次中处理的文件数。 这可能要求您先运行一些测试，然后再获得系统可以轻松处理的最佳数量。
- 创作和发布服务可以顺利运行，而不会中断移动操作。
- 对后续\（运行\）批处理过程之间的时间间隔进行完全控制。 此时间间隔可确保在开始下一批文件之前完成后处理操作。

- 自动处理同名文件夹。 此功能可确保即使移动了具有相同名称的文件夹，也不会覆盖它们。

- 自动处理对要移动的文件的引用和对文件的引用。


运行批处理之前，必须考虑以下几点：

- 如果您计划移动当前正在审阅的主题，则必须先关闭所有此类主题的审阅流程，然后再移动这些主题。 不关闭审阅任务将中断审阅过程。
- 您必须随时在系统上只运行一个批量移动操作。 这可确保正确处理对所移动主题的引用和对所移动主题的引用。


要批量移动文件，请执行以下步骤：

1. 单击顶部的Adobe Experience Manager链接，然后选择 **工具**.
1. 选择 **指南** 工具列表中。
1. 单击 **批量移动工具** 拼贴。

   此时将显示“批量移动工具”页。

   ![](images/bulk-move-tool_cs.PNG){width="550" align="center"}

1. 在“批量移动工具”页面上提供以下详细信息：

   - **向重复文件添加后缀**:如果移动具有相同名称的文件夹，则必须选择此选项。 例如，在上面的屏幕截图中， **源路径** 包含要移动的文件夹的名称。 名为topic的文件夹位于两个不同的位置，即test-A和test-B。选择此选项后，文件夹将成功移动。 第一个移动的文件夹将被命名为topic，而第二个文件夹将被命名为topic0。 移动操作会向具有相同名称的文件夹添加连续系列\（0、1、2等）的后缀。

      如果在未选择此选项的情况下移动具有相同名称的文件夹，则操作将中止，并显示一条消息。

   - **源路径\(s\)**:指定要移动的文件夹的位置。 通常，您必须从浏览器的地址栏中复制并粘贴源位置。 您可以通过单击 **添加** 按钮。

   - **目标路径**:指定要移动源文件夹的位置。

1. 单击 **批量移动**.

   系统开始将文件从源位置移动到目标位置。 该过程完成后，将在页面底部显示移动过程的摘要。

   ![](images/bulk-move-summary.PNG){width="650" align="center"}


## 搜索DITA内容

默认情况下，AEM无法识别DITA内容，因此它不提供任何机制来搜索其存储库中的DITA内容。 AEM指南在AEM上添加一个层，使AEM能够了解和处理DITA内容。 AEM指南中的搜索DITA内容功能允许您在AEM存储库中搜索DITA内容。

>[!NOTE]
>
>系统管理员可以配置 **DITA元素** 搜索组件，然后您可以使用AEM Assets UI中的功能。 有关更多详细信息，请参阅 *在资产UI中添加DITA元素搜索组件* 部分安装和配置Adobe Experience Manager指南as a Cloud Service。

使用搜索功能，您可以：

- 根据元素值搜索DITA内容；例如， `author`= xml
- 根据属性值搜索DITA内容；例如， `@platform`= windows
- 使用DITA元素和属性值的组合；例如， `author`= xml `AND` `@platform`= windows

执行以下步骤以在AEM存储库内搜索DITA内容：

1. 打开资产UI。

1. 在左边栏中，选择 **过滤器**.

   ![](images/left-rail-filter.png){width="450" align="center"}

   内容过滤选项显示在左边栏中。 您还将找到过滤选项DITA元素，用于过滤DITA内容。

   ![](images/dita-element-search.png){width="450" align="center"}

1. *\（可选\）* 在 **选择搜索目录** 字段，浏览要搜索的位置。

1. 在 **DITA元素** 过滤器，提供 **元素名称**, **属性**，以及要搜索的值。 例如，搜索具有 `author` 元素 `@type` 创建者，您需要提供以下屏幕截图所示的信息：

   ![](images/search-params.png){width="650" align="center"}

   在 **DITA元素** 过滤器显示在搜索栏的顶部。 符合搜索条件的文件显示在 **搜索结果** 的上界。

   指定搜索条件时，请考虑以下几点：

   - 要搜索确切的短语，请在“值”字段中输入短语并加引号 `"`短语搜索`"`.
   - 最多可添加3个DITA元素搜索条件。
   - 如果您指定了多个搜索标准，则所有这些标准都将使用AND逻辑进行组合。
   - 您不能在搜索条件中使用通配符。 例如，要搜索值为Windows的平台\（属性\），您不能指定\*form或Windo?s。

**搜索中的结帐状态筛选器**

除了DITA元素过滤器之外，AEM指南还允许您根据内容的签出状态来搜索内容。 当您想要快速过滤掉当前已由您签出并希望重新签入的文件时，此操作会很有帮助。

执行以下步骤以根据文件的签出状态搜索文件：

1. 打开资产UI。

1. 单击 **过滤器** 中。
1. 在搜索栏中输入搜索关键词。
1. 从左边栏应用所需的过滤器。

   例如，您可以应用 **结帐状态** 筛选以显示已检出或已检入的主题。 您可以通过从“检出方”(Checked Out By)列表中选择用户或组来进一步优化此列表。

   将显示您的搜索结果。


## 删除文件

从AEM存储库删除文件是一项受限功能，由系统管理员控制。 根据配置，如果删除文件符合以下条件，则可能会限制这些文件：

- 注销
- 具有传入或传出引用

仅当您属于具有删除文件权限的特定用户组时，才能删除文件。

>[!NOTE]
>
> 有关文件管理配置的更多详细信息，请参阅 *阻止删除签出的文件* 和 *阻止删除引用的文件* 安装和配置Adobe Experience Manager指南as a Cloud Service中的章节。

如果您的管理员已向所有用户授予了文件删除权限，则在删除包含引用的文件时，将显示以下消息：

![](images/allow_unsafe_delete-force-delete.PNG){width="650" align="center"}

在此方案中，您可以强制删除文件，而不从文件中删除传入或传出引用。

如果将删除权限授予特定用户群组，则属于该群组的用户也会看到上述消息。 但是，对于其他用户，将显示以下消息：

![](images/allow_unsafe_delete_for_delete_assets_group.PNG){width="650" align="center"}

在此方案中，在删除所有传入和传出引用之前，将不允许用户删除文件。

## 使用媒体文件

图像和视频等媒体文件是内容的组成部分。 在上传和管理内容时，您还可以处理媒体文件。

如果您的媒体文件发生了任何更改，您可以在 **版本历史记录**。要查找不同版本的媒体文件中的更改，请执行以下操作：

1. 在 **资产UI**.
1. 选择要查看其版本历史记录的文件。
1. 在左边栏中，单击 **版本历史记录** ，然后选择一个版本。
1. 您还可以在版本历史记录下查看不同版本的缩略图。

   ![](images/media-version-history-icon.png){width="800" align="center"}

1. 从列出的版本中，选择要用作基本版本的版本，然后单击 **预览版本**. 所选版本的预览将显示在“版本预览”窗口中。

   ![](images/media-version-preview.png){width="650" align="center"}


**父主题：**[&#x200B;管理内容](authoring.md)

